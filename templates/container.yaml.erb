<%# -*- yaml -*- %>
---
name:     <%= @name %>
image:    <%= @image %>
hostname: <%= @hostname %>

<%- if not @command.empty? -%>
command:
    <%- @command.each do |cmd| -%>
    - <% if cmd.class == Fixnum %><%= cmd %><% else %>"<%= cmd %>"<% end %>
    <%- end -%>
<%- end -%>

<%- if not @env.empty? -%>
env:
    <%- @env.sort.each do |key, value| -%>
    <%= key %>: <%= value %>
    <%- end -%>
<%- end -%>

<%- if not @ports.empty? -%>
ports:
    <%- @ports.sort.each do |port_spec, data| -%>
    <%= port_spec %>:
        <%- data.sort.each do |key, value| -%>
        <%= key %>: <%= value %>
        <%- end -%>
    <%- end -%>
<%- end -%>

<%- if not @volumes.empty? -%>
volumes:
    <%- @volumes.sort.each do |path, data| -%>
    <%= path %>:
        <%- data.sort.each do |key, value| -%>
        <%= key %>: <%= value %>
        <%- end -%>
    <%- end -%>
<%- end -%>
